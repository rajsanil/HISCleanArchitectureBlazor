@inject IStringLocalizer<HeaderMenu> L
<MudAppBar Class="appbar-medex"
           Elevation="0">
    <MudTooltip Arrow="true" Text="@L["Toggle menu"]">
        <MudIconButton Class="mr-2"
                       Color="@Color.Default"
                       Icon="@Icons.Material.Rounded.Menu"
                       Size="Size.Medium"
                       OnClick="ToggleNavigationMenuDrawer"/>
    </MudTooltip>
    @* App brand — visible on desktop *@
    <MudHidden Breakpoint="Breakpoint.SmAndDown">
        <MudStack Row="true" AlignItems="AlignItems.Center" Spacing="1" Class="mr-4">
            <MudIcon Icon="@Icons.Material.Filled.LocalHospital" Color="Color.Primary" Size="Size.Medium" />
            <MudText Typo="Typo.h6" Class="brand-text">
                Blazor<span class="brand-accent">HIS</span>
            </MudText>
        </MudStack>
    </MudHidden>
    @* Centered search bar — desktop *@
    <MudHidden Breakpoint="Breakpoint.SmAndDown">
        <MudSpacer/>
        <div class="search-bar-wrapper" @onclick="OpenSearchDialog">
            <MudIcon Icon="@Icons.Material.Filled.Search" Class="search-bar-icon" Size="Size.Small" />
            <span class="search-bar-placeholder">@L["Search (Cmd + K)"]</span>
        </div>
        <MudSpacer/>
    </MudHidden>
    @* Mobile search *@
    <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert="true">
        <MudSpacer/>
        <MudIconButton Color="Color.Default"
                       Icon="@Icons.Material.Filled.Search"
                       OnClick="OpenSearchDialog"/>
    </MudHidden>
    @* Right side actions *@
    <LanguageSelector/>
    <NotificationMenu/>
    <UserMenu OnSettingClick="OnSettingClick"/>
</MudAppBar>

@code
{
    [EditorRequired] [Parameter] public bool IsDarkMode { get; set; }
    [EditorRequired] [Parameter] public bool NavigationMenuDrawerOpen { get; set; }
    [EditorRequired] [Parameter] public EventCallback ToggleNavigationMenuDrawer { get; set; }
    [EditorRequired] [Parameter] public EventCallback OpenSearchDialog { get; set; }
    [EditorRequired] [Parameter] public bool RightToLeft { get; set; }
    [EditorRequired] [Parameter] public EventCallback RightToLeftToggle { get; set; }
    [Parameter] public EventCallback<MouseEventArgs> OnSettingClick { get; set; }
}